<!DOCTYPE html><html>  <head>    <meta content="text/html; charset=UTF-8" http-equiv="content-type">    <script type="text/javascript">(function(){(function(){function d(a){this.t={};this.tick=function(a,b,c){this.t[a]=[void 0!=c?c:(new Date).getTime(),b]};this.tick("start",null,a)}var a=new d;window.jstiming={Timer:d,load:a};if(window.performance&&window.performance.timing){var a=window.performance.timing,b=window.jstiming.load,c=a.navigationStart,a=a.responseStart;0<c&&a>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",a),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(e){}})();})()</script><script type="text/javascript">var KX_timer = new window.jstiming.Timer(); KX_timer.name = 'published';</script>    <title>link_dsp</title>    <link rel="shortcut icon" href="https://ssl.gstatic.com/docs/documents/images/kix-favicon6.ico">    <link rel="stylesheet" type="text/css" href="link_dsp.css">    <script type="text/javascript">  var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-1754630-10']);  _gaq.push(['_trackPageview']);  (function() {    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();</script>  </head>  <body>    <div id="header">link_dsp</div>    <div id="contents">      <p class="c15 c4"><span></span></p>      <a href="#" name="3e8d8fa6efe749b0d0fe4a2c86959100ea390239"></a><a href="#"        name="0"></a>      <table class="c10" cellpadding="0" cellspacing="0">        <tbody>          <tr>            <td class="c21">              <p class="c15 c4 c24"><span></span></p>              <br>            </td>            <td class="c22">              <p class="c19 c4"><span class="c2">This is an old document                  describing how users of a ScriptEase Javascript/Ecmascript                  product, or a product that is created with those libraries,                  can include Distributed Scripting into their application.                  Javascript users could use this protocol following the</span><span                  class="c20 c2"><a                    class="c23"                    href="se_dsp.html">                    Distributed Scripting Protocol manual</a></span><span class="c2">.</span></p>              <p class="c19 c4"><span class="c20 c2"><a class="c23" href="http://www.brent-noorda.com/nombas/us/techpage/seds/index.htm">SE:DSP</a></span><span                  class="c2">                  was a technology created by no-longer-existing</span><span class="c2 c20"><a                    class="c23"                    href="http://www.brent-noorda.com/nombas/us/index.htm">                    Nombas</a></span><span class="c2">.</span></p>              <p class="c19 c4"><span class="c2">For more documentation, see</span><span                  class="c20 c2"><a                    class="c23"                    href="http://www.brent-noorda.com/nombas/bunchadox.htm">                    Old Nombas User Docs</a></span><span class="c2">.</span></p>              <hr>              <h2 class="c4"><span class="c25">DSP Link Library</span></h2>              <p class="c4"><span class="c8">Distributed Scripting Protocol is                  implemented by the ScriptEase DSP link library as the DSP                  object.</span></p>              <h3 class="c4"><span class="c18">DSP Object</span></h3>              <p class="c4 c7"><span class="c3">platform: All platforms except                  Dos; All versions of SE</span></p>              <p class="c4 c7"><span class="c3"> source: #link &lt;sedsp&gt;</span></p>              <p class="c15 c4"><span class="c3"></span></p>              <p class="c19 c4"><span class="c8">The DSP object provides a                  framework for implementing distributed scripting across a                  variety of computers and networks.</span></p>              <h3 class="c4"><span class="c18">Creating a DSP object</span></h3>              <p class="c4"><span class="c8">The Distributed Scripting Protocol                  provides no internal method for managing a connection or                  transporting packets. It is simply a framework, with the                  physical transport method being supplied by the user. As such,                  it is impossible to simply create a DSP object, because it is                  incapable of doing anything by itself. The user must supply a                  set of functions to manage the connection with the server. To                  create a DSP object, you call </span><span class="c5">new                  DSP(myOpenFunction, myParameters)</span><span class="c8">. The                  function that you supply must open the connection and return a                  reference to it. It is possible in some instances that you do                  not need to open anything special, and so you can ignore this                  parameter. Here is an example of an open function for a DSP                  connection, using internet sockets:</span></p>              <p class="c4 c7"><span class="c3">function idspOpen( host, port )</span></p>              <p class="c4 c7"><span class="c3">{</span></p>              <p class="c4 c7"><span class="c3"> return new Socket( host, port                  );</span></p>              <p class="c4 c7"><span class="c3">}</span></p>              <p class="c15 c4"><span class="c3"></span></p>              <p class="c19 c4"><span class="c8">We will see this function                  passed to the DSP constructor in a moment. First, to                  accomplish sending/receiving packets, the user needs to define                  two functions, </span><span class="c5">dspSend</span><span class="c8">                  and </span><span class="c5">dspReceive</span><span class="c8">.                  These functions must be inherited through the prototype chain,                  because otherwise when DSP objects are copied implicitly                  through reference construction (see below), the functions will                  not get passed. Because we want to keep the DSP functions                  (such as dspService), we need to preserve the original DSP                  prototype, and a constructor looks like the following:</span></p>              <p class="c4 c7"><span class="c3">function iDSP( host, port )</span></p>              <p class="c4 c7"><span class="c3">{</span></p>              <p class="c4 c7"><span class="c3"> var ret = new DSP( idspOpen,                  host, port );</span></p>              <p class="c4 c7"><span class="c3"> // Now we override the                  ._prototype to insert our functions</span></p>              <p class="c4 c7"><span class="c3"> if( ret != null )</span></p>              <p class="c4 c7"><span class="c3"> ret._prototype =                  iDSP.prototype;</span></p>              <p class="c4 c7"><span class="c3"> return ret;</span></p>              <p class="c4 c7"><span class="c3">}</span></p>              <p class="c4 c7"><span class="c3">// Here we set up the                  iDSP.prototype to keep the DSP functions</span></p>              <p class="c4 c7"><span class="c3">// in the chain</span></p>              <p class="c4 c7"><span class="c3">iDSP.prototype._prototype =                  DSP.prototype;</span></p>              <p class="c15 c4"><span class="c3"></span></p>              <p class="c19 c4"><span class="c8">Once this constructor is                  called, we have a valid DSP object, assuming we add the                  transport functions. To do this, we must add </span><span class="c5">dspSend</span><span                  class="c8">                  and </span><span class="c5">dspReceive</span><span class="c8">                  to the prototype. The actual syntax of these functions is                  similar to </span><span class="c8 c17">Clib.fread()</span><span                  class="c8">                  and </span><span class="c8 c17">Clib.fwrite()</span><span class="c8">,                  and a description can be found in the function reference. For                  our iDSP example, they would look something like this:</span></p>              <p class="c4 c7"><span class="c3">function iDSP.prototype.dspSend(                  conn, buffer, timeout )</span></p>              <p class="c4 c7"><span class="c3">{ // Ignore timeout</span></p>              <p class="c4 c7"><span class="c3"> return conn.write(buffer);</span></p>              <p class="c4 c7"><span class="c3">}</span></p>              <p class="c4 c7"><span class="c3">function                  iDSP.prototype.dspReceive( conn, &amp;buffer, length, timeout)</span></p>              <p class="c4 c7"><span class="c3">{</span></p>              <p class="c4 c7"><span class="c3"> return conn.read( buffer,                  length );</span></p>              <p class="c4 c7"><span class="c3">}</span></p>              <p class="c15 c4"><span class="c3"></span></p>              <p class="c19 c4"><span class="c8">Note that both these functions                  ignore the timeout parameter and do not correctly handle                  errors. A full-featured version of these functions can be                  found in the file </span><span class="c2">idsp.jsh</span><span                  class="c8">.                  The final function that we must provide is the </span><span class="c5">dspCloseConnection</span><span                  class="c8">                  function, which is responsible for closing the connection.                  This function looks like the following:</span></p>              <p class="c4 c7"><span class="c3">function                  iDSP.prototype.dspCloseConnection( conn )</span></p>              <p class="c4 c7"><span class="c3">{</span></p>              <p class="c4 c7"><span class="c3"> conn.close();</span></p>              <p class="c4 c7"><span class="c3">}</span></p>              <p class="c15 c4"><span class="c3"></span></p>              <p class="c19 c4"><span class="c8">Once all of these transport                  functions have been defined, new iDSP objects can be                  instantiated with a call to </span><span class="c5">new iDSP</span><span                  class="c8">                  and used as any other DSP object. Because the transport level                  of DSP is separate from the core library, DSP can be adapted                  to communicate between any servers in any way. In addition,                  communication can be done during the call to the open                  function. This allows for password authentication or any other                  information to be shared.</span></p>              <h3 class="c4"><span class="c18">Using a DSP object</span></h3>              <p class="c4"><span class="c8">Once a DSP object is created using                  the method described above, every DSP object behaves in                  exactly the same way. Once the functions are set up, the                  transport layer of the protocol is hidden.</span></p>              <p class="c19 c4"><span class="c8">The basic idea is that all DSP                  objects are in fact references to objects on the remote side,                  and they will remain so except under certain circumstances                  (described below). When a connection is first established, it                  is a reference to the global object. Members of the remote                  global object can be accessed as members of the connection.                  But they remain references, so </span><span class="c5">var                  print = connection.Clib.printf</span><span class="c8"> will                  not actually make a remote call to the server. At the                  appropriate time, </span><span class="c5">print</span><span class="c8">                  will be resolved into </span><span class="c8 c17">Clib.printf()</span><span                  class="c8">                  and sent to the server in the appropriate manner. The                  circumstances which can trigger a de-referencing and remote                  call are:</span></p>              <p class="c4 c19"><span class="c1 c8">Calling functions</span><span                  class="c8">                  - When a DSP reference is called as a function, it gets                  resolved into the appropriate path and the function is called                  on the remote server. All parameters are converted to source                  with </span><span class="c3">ToSource()</span><span class="c8">                  and passed to the server, and set back afterwards (in case any                  were passed by reference). The client waits for the return                  value from the server and returns that as the result of the                  function call. This makes calling functions transparent to the                  client, so </span><span class="c5">connection.Screen.writeln("hi")</span><span                  class="c8">                  will actually call </span><span class="c5">Screen.writeln</span><span                  class="c8">                  on the server and print out "hi".</span></p>              <p class="c19 c4"><span class="c1 c8">Setting a value</span><span                  class="c8">                  - When a value is put to a DSP reference, such as </span><span                  class="c5">connection.globalCount                  = 5</span><span class="c8">, a remote call to the server is                  generated, and the remote value is updated. The above case                  acts just as if </span><span class="c5">globalCount = 5</span><span                  class="c8">                  was executed on the server.</span></p>              <p class="c19 c4"><span class="c1 c8">Implicitly</span><span class="c8">                  - When a DSP reference is converted to a primitive, then it                  gets de-referenced. This implicit conversion happens mostly in                  operator expressions, in which both values are converted to                  primitives first. So </span><span class="c5">var myCount =                  connection.globalCount + 1</span><span class="c8"> will get                  the value of </span><span class="c5">globalCount</span><span                  class="c8">                  from the server and add one to it. This can also be                  accomplished explicitly with </span><span class="c5">ToPrimitive()</span><span                  class="c8">,                  but the method below is more straightforward and                  understandable. The explicit use of ToPrimitive() on DSP                  references is discouraged.</span></p>              <p class="c19 c4"><span class="c1 c8">Explicitly</span><span class="c8">                  - Any DSP reference can be explicitly de-referenced with a                  call to</span><span class="c5">.dspGetValue</span><span class="c8">.                  Once an object has been de-referenced this way, any subsequent                  accesses will not cause a remote call, and changes will only                  affect the local copy. Note that calling a function in this                  way will result in the function being called on the local                  client, not the server.</span></p>              <h3 class="c4"><span class="c18">DSP object instance methods</span></h3>              <p class="c4"><span class="c1 c13">DSP()</span></p>              <a href="#" name="332260a78477074ef1eaec4adfe6057330f7f8c5"></a><a                href="#"                name="1"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">new DSP( [openFunction[,                          param1[, ...]]])</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">where:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">openFunction - The                          function to call to initialize the connection.</span></p>                      <p class="c4"><span class="c1 c8">paramN - Additional                          parameters to pass to the open function</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">return:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">object - A new DSP                          object, or </span><span class="c5 c1">null</span><span                          class="c1 c8">                          on error. This is the object that will be passed as                          the first parameter to all for most of the DSP methods                          (dspReceive, dspSend). Those methods should use the                          first passed parameter, and not the "this" variable,                          for any connection-specific properties or                          methods--because the dsp object is acting as a proxy                          to another system to use the "this" variable would                          instead be acting on the remote system.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">This function creates a                          new DSP object, or returns </span><span class="c5 c1">null</span><span                          class="c1 c8">                          on error. Note that calling this function itself                          accomplishes very little unless you build up an                          appropriate DSP object by adding open, close, and                          transport functions. A new DSP object can be created                          with just </span><span class="c5 c1">new </span><span                          class="c1 c8 c17">DSP()</span><span                          class="c1 c8">,                          but it will be unusable without transport functions.                          See the introduction, under </span><span class="c1 c8 c17">creating                          a DSP object</span><span class="c1 c8">, for more                          information about setting up a proper DSP object. The                          first optional parameter is the open function to use.                          Once the object has been created, this function is                          called with any additional parameters passed to DSP().                          The result of this call is set the </span><span class="c5 c1">dspConnection</span><span                          class="c1 c8">                          member of the newly created object, and is only used                          to pass as the first parameters to the </span><span class="c5 c1">dspSend</span><span                          class="c1 c8">,</span><span                          class="c5 c1">                          dspReceive</span><span class="c1 c8">, and </span><span                          class="c5 c1">dspCloseConnection</span><span                          class="c1 c8">                          methods. If </span><span class="c5 c1">openFunction</span><span                          class="c1 c8">                          is supplied and returns </span><span class="c5 c1">null</span><span                          class="c1 c8">,                          then it is considered an error and the DSP                          construction fails.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">example:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c3 c1">function fileOpen(                          filename )</span></p>                      <p class="c4"><span class="c3 c1">{</span></p>                      <p class="c4"><span class="c3 c1"> return Clib.fopen(                          filename, "wb" );</span></p>                      <p class="c4"><span class="c3 c1">}</span></p>                      <p class="c4 c9"><span class="c3 c1">var connection = new                          DSP( fileOpen, "c:\tempfile.dat" );</span></p>                      <p class="c4"><span class="c3 c1">// This will call                          fileOpen and assign the result to</span></p>                      <p class="c4"><span class="c3 c1">//                          connection.dspConnection. If it was null,</span></p>                      <p class="c4"><span class="c3 c1">// then the DSP                          connection will fail</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c15 c4"><span class="c1"></span></p>              <p class="c14 c4"><span class="c1"></span></p>              <p class="c19 c4"><span class="c1 c13">DSP dspCloseConnection()</span></p>              <a href="#" name="5019e3af7ade052271a84b9ea0c5836c725f0ccd"></a><a                href="#"                name="2"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">dsp.closeConnection(connection)</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">where:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">connection - The                          original connection that was created with the                          openFunction passed to </span><span class="c5 c1">new                        </span><span class="c1 c8 c17">DSP()</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">return:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">void.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">This function is                          responsible for terminating the connection that was                          opened at the time the DSP object was created. This is                          an optional function, and if not supplied then nothing                          will be done with the connection. See the                          introduction, under </span><span class="c1 c8 c17">creating                          a DSP object</span><span class="c1 c8">, for an                          example of how to implement this function.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span><span                          class="c1 c8">,                        </span><span class="c1 c8 c11">DSP()</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c15 c4"><span class="c1"></span></p>              <p class="c14 c4"><span class="c1"></span></p>              <p class="c19 c4"><span class="c1 c13">DSP dspReceive()</span></p>              <a href="#" name="52e624b1caa47247ddfe425b349707b50dcbdf39"></a><a                href="#"                name="3"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">dsp.dspReceive(connection,                          buffer, bufferLength,</span></p>                      <p class="c4"><span class="c5 c1"> timeout)</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">where:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">connection - The                          original connection that was returned from the                          openFunction passed to </span><span class="c5 c1">new                        </span><span class="c1 c8 c17">DSP()</span></p>                      <p class="c4"><span class="c1 c8">buffer - A buffer which                          is to be filled with data. This variable must be                          passed by reference (with the &amp; operator).</span></p>                      <p class="c4"><span class="c1 c8">bufferLength - The                          maximum amount of data to read</span></p>                      <p class="c4"><span class="c1 c8">timeout - The maximum                          amount of time to wait (in milliseconds) for data to                          be ready for reading on the connection</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">return:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">number - The number of                          bytes read, or -1 on error</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">This function is                          responsible for getting data from the connection. This                          function should wait up to </span><span class="c5 c1">timeout</span><span                          class="c1 c8">                          milliseconds for data to be available on the                          connection. If there is no data available, then this                          function should return 0. Otherwise, the function                          should read up to </span><span class="c5 c1">bufferLength</span><span                          class="c1 c8">                          bytes from the connection and put the data into </span><span                          class="c5 c1">buffer</span><span                          class="c1 c8">.                          Note that this means that </span><span class="c5 c1">buffer</span><span                          class="c1 c8">                          must be passed by reference. If there is some sort of                          error, then this function should either throw an                          error, or return -1. See introduction, under </span><span                          class="c1 c8 c17">creating                          a DSP object</span><span class="c1 c8">, for an                          example of how to implement this function. Note that                          the function need not wait for the entire buffer to be                          filled, it should read only as much data as is                          available to be read.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span><span                          class="c1 c8">,                        </span><span class="c1 c8 c11">DSP dspSend()</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c15 c4"><span class="c1"></span></p>              <p class="c4 c14"><span class="c1"></span></p>              <p class="c19 c4"><span class="c1 c13">DSP dspSend()</span></p>              <a href="#" name="e32bd81c8abf8bc0a855074568a7303f5855748b"></a><a                href="#"                name="4"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">dsp.dspSend(connection,                          buffer, timeout)</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">where:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">connection - The                          original connection that was returned from the                          openFunction passed to </span><span class="c5 c1">new                        </span><span class="c1 c8 c17">DSP()</span></p>                      <p class="c4"><span class="c1 c8">buffer - The buffer to                          send</span></p>                      <p class="c4"><span class="c1 c8">timeout - The maximum                          amount of time to wait (in milliseconds) for data to                          be ready for writing on the connection</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">return:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">number - The number of                          bytes written, or -1 on error</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">This function is                          responsible for sending data across the connection                          (the one returned by the openFunction passed to the                          DSP constructor). Its behavior is similar to that of                          dspReceive(). It should wait up until </span><span class="c5 c1">timeout</span><span                          class="c1 c8">                          for data to be ready, and then send as much as                          possible along the connection (up to the length of </span><span                          class="c5 c1">buffer</span><span                          class="c1 c8">).                          If the timeout expires, the function should return 0.                          If there was some sort of error, then an error should                          be thrown, or -1 returned. Otherwise, the number of                          bytes written should be returned. Throwing an error is                          often more descriptive than the generic failure                          message. See introduction, under </span><span class="c1 c8 c17">creating                          a DSP object</span><span class="c1 c8">, for an                          example of how to implement this function.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span><span                          class="c1 c8">,                        </span><span class="c1 c8 c11">DSP dspReceive()</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c15 c4"><span class="c1"></span></p>              <p class="c14 c4"><span class="c1"></span></p>              <p class="c19 c4"><span class="c1 c13">DSP dspLoad()</span></p>              <a href="#" name="038e9bf393e655a1b51f30e9c87c48e97de4d076"></a><a                href="#"                name="5"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">dsp.dspLoad(code)</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">where:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">code - String of code to                          load on the remote server</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">return:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">void.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">This function loads the                          specified code into the global context on the remote                          server. Any code that you execute will remain on the                          remote server. This function is designed to load                          functions on the remote server so that they may be                          called by the client. This function does not wait for                          a return value from the host. As a consequence, remote                          errors will not be immediately reported. They will be                          reported next time a client routine (calling a                          function, getting/putting a value) queries the server.                          Note that if you wish to execute remote code and get a                          return value, the global eval() method for the server                          should be used, although the changes will not be                          permanent.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">example:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c3 c1">function foo() {                          Screen.writeln("Hello!"); }</span></p>                      <p class="c4"><span class="c3 c1">// This code will make                          "foo = new Function(...)"</span></p>                      <p class="c4"><span class="c3 c1">// to set up the                          function on the remote server.</span></p>                      <p class="c4"><span class="c3 c1">connection.dspLoad( "foo                          = " + ToSource(foo) );</span></p>                      <p class="c4"><span class="c1 c3">connection.foo();</span></p>                      <p class="c4"><span class="c3 c1">// foo is now a global                          function on the server</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c15 c4"><span class="c1"></span></p>              <p class="c14 c4"><span class="c1"></span></p>              <p class="c19 c4"><span class="c1 c13">DSP dspService()</span></p>              <a href="#" name="6ac8a887bb9f45ea65119144514ae010df944b7f"></a><a                href="#"                name="6"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">dsp.dspService()</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">return:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">boolean - A value                          indicating whether the connection is still open.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">This is the main                          server-side function. Although it can be used by any                          DSP object, it is intended to be the server side of                          the client-server model. When called, it will wait                          until an incoming packet is received and then service                          that packet appropriately. The method will return </span><span                          class="c5 c1">false</span><span                          class="c1 c8">                          if the packet received was a close command, in which                          case the connection has been closed, and an explicit                          call to </span><span class="c5 c1">dspClose</span><span                          class="c1 c8">                          is not necessary. It is designed to be called                          repeatedly until the connection is closed.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">example:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c3 c1">// Assume 'connection'                          is a valid connection</span></p>                      <p class="c4"><span class="c3 c1">while(                          connection.dspService() )</span></p>                      <p class="c4"><span class="c3 c1"> ;</span></p>                      <p class="c4"><span class="c3 c1">// At this point, the                          connection has been</span></p>                      <p class="c4"><span class="c3 c1">// successfully closed</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c15 c4"><span class="c1"></span></p>              <p class="c14 c4"><span class="c1"></span></p>              <p class="c19 c4"><span class="c1 c13">DSP dspClose()</span></p>              <a href="#" name="37f575e038fdb9326c5b4864e656bb5e280a423a"></a><a                href="#"                name="7"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">dsp.dspClose()</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">return:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">void.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">This function closes the                          DSP connection. First, it sends a close command to the                          remote host, signaling that the connection is closing.                          It then calls the </span><span class="c5 c1">dspCloseConnection</span><span                          class="c1 c8">                          method if it exists, passing the original connection                          variable returned by the open function when this                          connection was created.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">example:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c3 c1">connection.dspClose();</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c15 c4"><span class="c1"></span></p>              <p class="c14 c4"><span class="c1"></span></p>              <p class="c19 c4"><span class="c1 c13">DSP dspGetValue()</span></p>              <a href="#" name="f11f215a7f8c0be7ca106fd182494e7d0cf2fe12"></a><a                href="#"                name="8"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">dsp.dspGetValue()</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">return:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">variable - remote value                          of the current DSP reference.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">This function provides                          an explicit way to convert a DSP reference into a                          value. Such conversion is done automatically when the                          reference is converted to a primitive, or a value is                          assigned to a reference. See the introduction, under </span><span                          class="c1 c8 c17">creating                          a DSP object</span><span class="c1 c8">, for more                          information on DSP references and getting remote                          values.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">example:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c3 c1">var reference =                          connection.globalValue;</span></p>                      <p class="c4"><span class="c3 c1">var value =                          connection.globalValue.dspGetValue();</span></p>                      <p class="c4"><span class="c3 c1">reference = 5; // This                          will change the remote value</span></p>                      <p class="c4"><span class="c3 c1">value = 6; </span></p>                      <p class="c4"><span class="c3 c1">// This will change the                          local copy, not the remote</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c15 c4"><span class="c1"></span></p>              <p class="c14 c4"><span class="c1"></span></p>              <p class="c19 c4"><span class="c1 c13">DSP dspSecurityInit()</span></p>              <a href="#" name="29aa5000911c81fb5d998f9218ec0ded0460e20a"></a><a                href="#"                name="9"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c5">dsp.dspSecurityInit(secureVar)</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">where:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">secureVar - private                          storage for the DSP security. The member 'dsp' is                          preset to the DSP object. Remember, the DSP object can                          be seen by the running script, but not the secure                          variable itself.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">return:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">void.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">The dspSecurityInit                          function turns on security for a DSP object. This                          means when the remote client tries to run a script on                          your machine using DSP, it will be run with your                          security manager in effect. In the case of DSP, each                          security function (jseSecurityInit, jseSecurityTerm,                          and jseSecurityGuard) has an exactly corresponding                          function, i.e., dspSecurityInit, dspSecurityTerm, and                          dspSecurityGuard. In the security initialization                          function, you'll typically select some functions to be                          allowed, and let all others be vetoed.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span><span                          class="c1 c8">,                        </span><span class="c1 c8 c11">DSP dspSecurityTerm()</span><span                          class="c1 c8">,                        </span><span class="c1 c8 c11">DSP dspSecurityGuard()</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">example:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c3 c1">function                          iDSP.dspSecurityGuard( conn )</span></p>                      <p class="c4"><span class="c3 c1">{</span></p>                      <p class="c4"><span class="c3 c1">                          myfunc.setSecurity(jseSecureAllow);</span></p>                      <p class="c4"><span class="c3 c1">                          myotherfunc.setSecurity(jseSecureGuard);</span></p>                      <p class="c4"><span class="c3 c1">}</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c15 c4"><span class="c1"></span></p>              <p class="c14 c4"><span class="c1"></span></p>              <p class="c19 c4"><span class="c1 c13">DSP dspSecurityTerm()</span></p>              <a href="#" name="98e7f89d741e248e4de33ab57d7abc47455d5487"></a><a                href="#"                name="10"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">dsp.dspSecurityTerm(secureVar)</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">where:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">secureVar - private                          storage for the DSP security.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">return:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">void.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">This function is                          typically not needed, but you can use it to cleanup                          anything you initialized in the DSP security                          initialization function.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span><span                          class="c1 c8">,                        </span><span class="c1 c8 c11">DSP dspSecurityInit()</span><span                          class="c1 c8">,                        </span><span class="c1 c8 c11">DSP dspSecurityGuard()</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c4 c15"><span class="c1"></span></p>              <p class="c14 c4"><span class="c1"></span></p>              <p class="c19 c4"><span class="c1 c13">DSP dspSecurityGuard()</span></p>              <a href="#" name="0f2376516e240b6043fde7ae62803c615df3f28e"></a><a                href="#"                name="11"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">dsp.dspSecurityGuard(secureVar,                          function,</span></p>                      <p class="c4"><span class="c5 c1"> params)</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">where:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">function - the function                          being called</span></p>                      <p class="c4"><span class="c1 c8">secureVar - private                          storage for the DSP security.</span></p>                      <p class="c4"><span class="c1 c8">params - whatever                          parameters are passed to the function</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">return:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">void.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">If a DSP object is given                          a dspSecurityGuard function (exactly like any of the                          other DSP callback functions), when it tries to call                          any function not part of the script (i.e. one of your                          functions or a wrapper function), the security guard                          is called for approval. You must provide a                          dspSecurityInit for security to be activated. Only                          those functions the security initialization function                          marks as guarded will use this function.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span><span                          class="c1 c8">,                        </span><span class="c1 c8 c11">DSP dspSecurityInit()</span><span                          class="c1 c8">,                        </span><span class="c1 c8 c11">DSP dspSecurityTerm()</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c15 c4"><span class="c1"></span></p>              <p class="c14 c4"><span class="c1"></span></p>              <h3 class="c4"><span class="c18">DSP object static properties</span></h3>              <p class="c4"><span class="c1 c13">DSP.remote</span></p>              <a href="#" name="64dbbdf02574f465cd25e5446247c8105908b63f"></a><a                href="#"                name="12"></a>              <table class="c10" cellpadding="0" cellspacing="0">                <tbody>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">syntax:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">DSP.remote</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">description:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c1 c8">This global property of                          the DSP object is used to make calls back to the                          remote client from within a function. When the first                          DSP object in a script is created, this gets assigned                          to that value. From then on, whenever a packet needs                          to be serviced, this value is set (and later restored)                          to the object representing the incoming connection.                          This allows for multiple connections, and lets the                          function easily call back the appropriate client. Note                          that within a </span><span class="c5 c1">dspLoad</span><span                          class="c1 c8">                          call, the client does not wait for a response, and so                          trying to call on the client will yield no result                          until the server is queried again.</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">see:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c5 c1">#link &lt;sedsp&gt;</span></p>                    </td>                  </tr>                  <tr>                    <td class="c12">                      <p class="c4"><span class="c1 c6">example:</span></p>                    </td>                    <td class="c0">                      <p class="c4"><span class="c3 c1">// Assume the client                          calls this:</span></p>                      <p class="c4"><span class="c3 c1">serverConn.printRemote("hi");</span></p>                      <p class="c4"><span class="c3 c1">// And the server side                          looks like this:</span></p>                      <p class="c4"><span class="c3 c1">function printRemote(                          string )</span></p>                      <p class="c4"><span class="c3 c1">{</span></p>                      <p class="c4"><span class="c3 c1">                          DSP.remote.Screen.write( string );</span></p>                      <p class="c4"><span class="c3 c1">}</span></p>                      <p class="c4"><span class="c3 c1">// This will print out                          "hi" on the client machine</span></p>                    </td>                  </tr>                </tbody>              </table>              <p class="c14 c4"><span></span></p>            </td>          </tr>        </tbody>      </table>      <p class="c15 c4"><span></span></p>    </div>    <div id="footer"><span>Published by <a target="_blank" title="Learn more about Google Drive"          href="//docs.google.com/">Google          Drive</a></span><span class="dash">–</span><a href="//docs.google.com/abuse?id=1al_MnLmgplhrvB_scDX0sKnT6vA9BhKRdDOQQk8cLPU">Report        Abuse</a><span class="dash">–</span><span>Updated automatically every 5        minutes</span></div>    <script type="text/javascript">(function(){if(window.jstiming){window.jstiming.a={};window.jstiming.b=1;var e=function(b,a,d){var c=b.t[a],g=b.t.start;if(c&&(g||d))return c=b.t[a][0],void 0!=d?g=d:g=g[0],c-g},n=function(b,a,d){var c="";window.jstiming.pt&&(c+="&srt="+window.jstiming.pt,delete window.jstiming.pt);try{window.external&&window.external.tran?c+="&tran="+window.external.tran:window.gtbExternal&&window.gtbExternal.tran?c+="&tran="+window.gtbExternal.tran():window.chrome&&window.chrome.csi&&(c+="&tran="+window.chrome.csi().tran)}catch(g){}var f=window.chrome;if(f&&(f=f.loadTimes)){f().wasFetchedViaSpdy&&(c+="&p=s");if(f().wasNpnNegotiated){var c=c+"&npn=1",k=f().npnNegotiatedProtocol;k&&(c+="&npnv="+(encodeURIComponent||escape)(k))}f().wasAlternateProtocolAvailable&&(c+="&apa=1")}var l=b.t,s=l.start,f=[],k=[],h;for(h in l)if("start"!=h&&0!=h.indexOf("_")){var m=l[h][1];m?l[m]&&k.push(h+"."+e(b,h,l[m][0])):s&&f.push(h+"."+e(b,h))}delete l.start;if(a)for(var p in a)c+="&"+p+"="+a[p];(a=d)||(a="https:"==document.location.protocol?"https://csi.gstatic.com/csi":"http://csi.gstatic.com/csi");return[a,"?v=3","&s="+(window.jstiming.sn||"_s")+"&action=",b.name,k.length?"&it="+k.join(","):"",c,"&rt=",f.join(",")].join("")};window.jstiming.getReportUri=n;var q=function(b,a,d){b=n(b,a,d);if(!b)return"";a=new Image;var c=window.jstiming.b++;window.jstiming.a[c]=a;a.onload=a.onerror=function(){window.jstiming&&delete window.jstiming.a[c]};a.src=b;a=null;return b};window.jstiming.report=function(b,a,d){if("prerender"==document.webkitVisibilityState){var c=!1,g=function(){if(!c){a?a.prerender="1":a={prerender:"1"};var f;"prerender"==document.webkitVisibilityState?f=!1:(q(b,a,d),f=!0);f&&(c=!0,document.removeEventListener("webkitvisibilitychange",g,!1))}};document.addEventListener("webkitvisibilitychange",g,!1);return""}return q(b,a,d)};window.jstiming.reportDone=function(b){if(window.jstiming.b<=(b||1))return!1;for(var a in window.jstiming.a)return!1;return!0};var r=function(b,a,d,c){return 0<d?(c?b.tick(a,c,d):b.tick(a,"",d),!0):!1};window.jstiming.getNavTiming=function(b){if(window.performance&&window.performance.timing){var a=window.performance.timing;r(b,"_dns",a.domainLookupStart)&&r(b,"dns_",a.domainLookupEnd,"_dns");r(b,"_con",a.connectStart)&&r(b,"con_",a.connectEnd,"_con");r(b,"_req",a.requestStart)&&r(b,"req_",a.responseStart,"_req");r(b,"_rcv",a.responseStart)&&r(b,"rcv_",a.responseEnd,"_rcv");if(r(b,"_ns",a.navigationStart)){r(b,"ntsrt_",a.responseStart,"_ns");r(b,"nsfs_",a.fetchStart,"_ns");var d=window.external&&window.external.startE;!d&&window.chrome&&window.chrome.csi&&(d=Math.floor(window.chrome.csi().startE));d&&(r(b,"_se",d),r(b,"sens_",a.navigationStart,"_se"));r(b,"ntplt0_",a.loadEventStart,"_ns");r(b,"ntplt1_",a.loadEventEnd,"_ns")}}}};})()</script><script type="text/javascript">KX_timer.tick('tl'); if (document.location.protocol == 'https:') {window.jstiming.report(KX_timer, undefined , 'https://gg.google.com/csi');} else {window.jstiming.report(KX_timer);}</script>  </body></html>